000000*****************************************************************
000000*--- テーブル名 ：DB_ACCOUNT_BALANCE
000000*--- 説明      ：口座ごとの現在残高を管理するマスタテーブル
000000*--- 主キー    ：ACC_ID（口座ID）
000000*--- 備考      ：各口座の元本および利息計算後の残高を管理
000000*---------------------------------------------------------------*
000000     CREATE TABLE MYDB.DB_ACCOUNT_BALANCE (
000000*--- 口座ID（ユニーク）
000000         ACC_ID    INTEGER        NOT NULL,
000000*--- 現在残高（円）
000000         BALANCE   DECIMAL(15,2)  NOT NULL,
000000         CONSTRAINT PK_ACCOUNT_BALANCE
000000             PRIMARY KEY (ACC_ID)
000000     );
000000*---------------------------------------------------------------*
000000*--- 初期データ登録（口座残高）
000000*---------------------------------------------------------------*
000000     INSERT INTO MYDB.DB_ACCOUNT_BALANCE
000000         (ACC_ID, BALANCE)
000000         VALUES (4001,  600000.00);
000000*---
000000     INSERT INTO MYDB.DB_ACCOUNT_BALANCE
000000         (ACC_ID, BALANCE)
000000         VALUES (4002,  900000.00);
000000*---
000000     INSERT INTO MYDB.DB_ACCOUNT_BALANCE
000000         (ACC_ID, BALANCE)
000000         VALUES (4003, 1200000.00);
000000*---
000000     INSERT INTO MYDB.DB_ACCOUNT_BALANCE
000000         (ACC_ID, BALANCE)
000000         VALUES (4004,  800000.00);
000000*---
000000     INSERT INTO MYDB.DB_ACCOUNT_BALANCE
000000         (ACC_ID, BALANCE)
000000         VALUES (4005, 1500000.00);
000000*---------------------------------------------------------------*
000000*--- テーブル名 ：DB_INTEREST_INFO
000000*--- 説明      ：預金種別ごとの利率マスタ
000000*--- 主キー    ：SAVING_TYPE
000000*---------------------------------------------------------------*
000000     CREATE TABLE MYDB.DB_INTEREST_INFO (
000000         SAVING_TYPE   CHAR(10)      NOT NULL,
000000         INTEREST_RATE DECIMAL(5,4)  NOT NULL,
000000         CONSTRAINT PK_INTEREST_INFO
000000             PRIMARY KEY (SAVING_TYPE)
000000     );
000000*---------------------------------------------------------------*
000000*--- 初期データ登録（利率マスタ）
000000*---------------------------------------------------------------*
000000     INSERT INTO MYDB.DB_INTEREST_INFO
000000         (SAVING_TYPE, INTEREST_RATE)
000000         VALUES ('NON-TERM', 0.0080);
000000*--- 
000000     INSERT INTO MYDB.DB_INTEREST_INFO
000000         (SAVING_TYPE, INTEREST_RATE)
000000         VALUES ('FIXED-03', 0.0450);
000000*--- 
000000     INSERT INTO MYDB.DB_INTEREST_INFO
000000         (SAVING_TYPE, INTEREST_RATE)
000000         VALUES ('FIXED-06', 0.0550);
000000*---
000000     INSERT INTO MYDB.DB_INTEREST_INFO
000000         (SAVING_TYPE, INTEREST_RATE)
000000         VALUES ('FIXED-12', 0.0600);
000000*---------------------------------------------------------------*
000000*--- テーブル名 ：DB_ACCOUNT_SAVINGS
000000*--- 説明      ：預金契約（普通／定期）情報テーブル
000000*--- 主キー    ：ORDER_ID
000000*--- 外部キー  ：ACC_ID → DB_ACCOUNT_BALANCE
000000*---             SAVING_TYPE → DB_INTEREST_INFO
000000*--- ステータス：1=有効、9=完了
000000*---------------------------------------------------------------*
000000    CREATE TABLE MYDB.DB_ACCOUNT_SAVINGS (
000000        ORDER_ID      INTEGER        NOT NULL,
000000        ACC_ID        INTEGER        NOT NULL,
000000        SAVING_TYPE   CHAR(10)       NOT NULL,
000000        START_DATE    CHAR(8)        NOT NULL,
000000        END_DATE      CHAR(8)        NOT NULL,
000000        MONEY_ROOT    DECIMAL(15,2)  NOT NULL,
000000        INTEREST      DECIMAL(15,2)  NOT NULL,
000000        MONEY         DECIMAL(15,2)  NOT NULL,
000000        STATUS        CHAR(1)        NOT NULL,
000000        CONSTRAINT PK_ACCOUNT_SAVINGS
000000            PRIMARY KEY (ORDER_ID),
000000        CONSTRAINT FK_SAVINGS_ACCOUNT
000000            FOREIGN KEY (ACC_ID)
000000            REFERENCES MYDB.DB_ACCOUNT_BALANCE (ACC_ID),
000000        CONSTRAINT FK_SAVINGS_TYPE
000000            FOREIGN KEY (SAVING_TYPE)
000000            REFERENCES MYDB.DB_INTEREST_INFO (SAVING_TYPE),
000000        CONSTRAINT CK_SAVINGS_STATUS
000000            CHECK (STATUS IN ('1','9'))
000000    );
000000*---------------------------------------------------------------*
000000*--- 初期データ登録（STATUS='1' のみ処理対象）
000000*---------------------------------------------------------------*
000000     INSERT INTO MYDB.DB_ACCOUNT_SAVINGS
000000         (ORDER_ID, ACC_ID, SAVING_TYPE, START_DATE, END_DATE,
000000          MONEY_ROOT, INTEREST, MONEY, STATUS)
000000         VALUES
000000         (41, 4001, 'NON-TERM', '20240901', '20240901',
000000          800000, 0.00, 0.00, '1');
000000*---
000000     INSERT INTO MYDB.DB_ACCOUNT_SAVINGS
000000         (ORDER_ID, ACC_ID, SAVING_TYPE, START_DATE, END_DATE,
000000          MONEY_ROOT, INTEREST, MONEY, STATUS)
000000         VALUES
000000         (42, 4001, 'FIXED-06', '20240401', '20241001',
000000          2300000, 0.00, 0.00, '1');
000000*---
000000     INSERT INTO MYDB.DB_ACCOUNT_SAVINGS
000000         (ORDER_ID, ACC_ID, SAVING_TYPE, START_DATE, END_DATE,
000000          MONEY_ROOT, INTEREST, MONEY, STATUS)
000000         VALUES
000000         (43, 4001, 'FIXED-12', '20240101', '20250101',
000000          4500000, 0.00, 0.00, '1');
000000*---
000000     INSERT INTO MYDB.DB_ACCOUNT_SAVINGS
000000         (ORDER_ID, ACC_ID, SAVING_TYPE, START_DATE, END_DATE,
000000          MONEY_ROOT, INTEREST, MONEY, STATUS)
000000         VALUES
000000         (44, 4002, 'FIXED-03', '20240701', '20241001',
000000          1700000, 0.00, 0.00, '1');
000000*---
000000     INSERT INTO MYDB.DB_ACCOUNT_SAVINGS
000000         (ORDER_ID, ACC_ID, SAVING_TYPE, START_DATE, END_DATE,
000000          MONEY_ROOT, INTEREST, MONEY, STATUS)
000000         VALUES
000000         (45, 4002, 'NON-TERM', '20240915', '20240915',
000000          600000, 0.00, 0.00, '1');
000000*---
000000     INSERT INTO MYDB.DB_ACCOUNT_SAVINGS
000000         (ORDER_ID, ACC_ID, SAVING_TYPE, START_DATE, END_DATE,
000000          MONEY_ROOT, INTEREST, MONEY, STATUS)
000000         VALUES
000000         (46, 4003, 'FIXED-06', '20240501', '20241101',
000000          2900000, 0.00, 0.00, '1');
000000*---
000000     INSERT INTO MYDB.DB_ACCOUNT_SAVINGS
000000         (ORDER_ID, ACC_ID, SAVING_TYPE, START_DATE, END_DATE,
000000          MONEY_ROOT, INTEREST, MONEY, STATUS)
000000         VALUES
000000         (47, 4003, 'FIXED-12', '20240201', '20250201',
000000          5800000, 0.00, 0.00, '1');
000000*---
000000     INSERT INTO MYDB.DB_ACCOUNT_SAVINGS
000000         (ORDER_ID, ACC_ID, SAVING_TYPE, START_DATE, END_DATE,
000000          MONEY_ROOT, INTEREST, MONEY, STATUS)
000000         VALUES
000000         (48, 4004, 'NON-TERM', '20241005', '20241005',
000000          900000, 0.00, 0.00, '1');
000000*---
000000     INSERT INTO MYDB.DB_ACCOUNT_SAVINGS
000000         (ORDER_ID, ACC_ID, SAVING_TYPE, START_DATE, END_DATE,
000000          MONEY_ROOT, INTEREST, MONEY, STATUS)
000000         VALUES
000000         (49, 4004, 'FIXED-03', '20240801', '20241101',
000000          1300000, 0.00, 0.00, '1');
000000*---
000000     INSERT INTO MYDB.DB_ACCOUNT_SAVINGS
000000         (ORDER_ID, ACC_ID, SAVING_TYPE, START_DATE, END_DATE,
000000          MONEY_ROOT, INTEREST, MONEY, STATUS)
000000         VALUES
000000         (50, 4005, 'FIXED-06', '20240601', '20241201',
000000          3600000, 0.00, 0.00, '1');
000000*---
000000     INSERT INTO MYDB.DB_ACCOUNT_SAVINGS
000000         (ORDER_ID, ACC_ID, SAVING_TYPE, START_DATE, END_DATE,
000000          MONEY_ROOT, INTEREST, MONEY, STATUS)
000000         VALUES
000000         (51, 4005, 'FIXED-12', '20240101', '20250101',
000000          6000000, 0.00, 0.00, '1');
000000*---
000000     INSERT INTO MYDB.DB_ACCOUNT_SAVINGS
000000         (ORDER_ID, ACC_ID, SAVING_TYPE, START_DATE, END_DATE,
000000          MONEY_ROOT, INTEREST, MONEY, STATUS)
000000         VALUES
000000         (52, 4005, 'NON-TERM', '20240920', '20240920',
000000          700000, 0.00, 0.00, '1');
000000*---------------------------------------------------------------*
000000*--- 確認用 SELECT
000000*---------------------------------------------------------------*
000000     SELECT * FROM MYDB.DB_ACCOUNT_BALANCE;
000000     SELECT * FROM MYDB.DB_INTEREST_INFO;
000000     SELECT * FROM MYDB.DB_ACCOUNT_SAVINGS;
000000*---------------------------------------------------------------*
000000*--- テスト用 DROP
000000*---------------------------------------------------------------*
000000     DROP TABLE MYDB.DB_ACCOUNT_SAVINGS;
000000     DROP TABLE MYDB.DB_INTEREST_INFO;
000000     DROP TABLE MYDB.DB_ACCOUNT_BALANCE;
000000*****************************************************************